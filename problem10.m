%%
clear;
clc;
iter=5000;
A1=sprand(5,5,0.5);
[data1,stat1,t1]=compare(A1,iter,5);
A2=sprand(10,10,0.5);
[data2,stat2,t2]=compare(A2,iter,5);
A3=sprand(15,15,0.5);
[data3,stat3,t3]=compare(A3,iter,5);
A4=sprand(20,20,0.5);
[data4,stat4,t4]=compare(A4,iter,5);
A5=sprand(25,25,0.5);
[data5,stat5,t5]=compare(A5,iter,5);
%%
%load('data1.mat');
T=[t1;t2;t3;t4;t5];
n=[5;10;15;20;25];
semilogy(n,T,'LineWidth',3);
legend('GG方法','KKLLL方法','正态估计方法','直接计算');
set(gca,'FontSize',18);
xlabel('n');
ylabel('t/s');
%title('计算方法比较');
set(gcf,'outerposition',get(0,'screensize'));
saveas(gcf,'1_1.png');
close;
E=[abs(stat1(2,:));abs(stat2(2,:));abs(stat3(2,:));abs(stat4(2,:));abs(stat5(2,:))];
n=[5;10;15;20;25];
plot(n,E,'LineWidth',3);
legend('GG方法','KKLLL方法','正态估计方法','直接计算');
set(gca,'FontSize',18);
xlabel('n');
ylabel('相对误差');
%title('计算方法比较');
set(gcf,'outerposition',get(0,'screensize'));
saveas(gcf,'1_2.png');
close;
save('data1.mat');
%%
clear;
clc;
iter=5000;
A1=sprand(10,10,0.1);
[data1,stat1,t1]=compare(A1,iter,5);
A2=sprand(10,10,0.3);
[data2,stat2,t2]=compare(A2,iter,5);
A3=sprand(10,10,0.5);
[data3,stat3,t3]=compare(A3,iter,5);
A4=sprand(10,10,0.7);
[data4,stat4,t4]=compare(A4,iter,5);
A5=sprand(10,10,0.9);
[data5,stat5,t5]=compare(A5,iter,5);
%%
%load('data2_1.mat');
T=[t1;t2;t3;t4;t5];
sparseness=1-[0.1;0.3;0.5;0.7;0.9];
semilogy(sparseness,T,'LineWidth',3);
legend('GG方法','KKLLL方法','正态估计方法','直接计算');
set(gca,'FontSize',18);
xlabel('Sparseness');
ylabel('t/s');
%title('计算方法比较');
set(gcf,'outerposition',get(0,'screensize'));
saveas(gcf,'2_1.png');
close;
save('data2_1.mat');
%%
clear;
clc;
iter=5000;
A1=sprand(15,15,0.1);
[data1,stat1,t1]=compare(A1,iter,5);
A2=sprand(15,15,0.3);
[data2,stat2,t2]=compare(A2,iter,5);
A3=sprand(15,15,0.5);
[data3,stat3,t3]=compare(A3,iter,5);
A4=sprand(15,15,0.7);
[data4,stat4,t4]=compare(A4,iter,5);
A5=sprand(15,15,0.9);
[data5,stat5,t5]=compare(A5,iter,5);
%%
%load('data2_2.mat');
T=[t1;t2;t3;t4;t5];
sparseness=1-[0.1;0.3;0.5;0.7;0.9];
semilogy(sparseness,T,'LineWidth',3);
legend('GG方法','KKLLL方法','正态估计方法','直接计算');
set(gca,'FontSize',18);
xlabel('Sparseness');
ylabel('t/s');
%title('计算方法比较');
set(gcf,'outerposition',get(0,'screensize'));
saveas(gcf,'2_2.png');
close;
save('data2_2.mat');
%%
clear;
clc;
n=[10,15,20];
s=[0.1,0.3,0.5,0.7,0.9];
T=compare_Nperm(n,s,5);
n=n';
s=s';
T=T';
%%
%load('data3_1.mat');
semilogy(1-s,T,'LineWidth',3);
legend('n=10','n=15','n=20');
set(gca,'FontSize',18);
xlabel('Sparseness');
ylabel('t/s');
%title('计算方法比较');
set(gcf,'outerposition',get(0,'screensize'));
saveas(gcf,'3_1.png');
close;
save('data3_1.mat');
%%
clear;
clc;
n=[10,15,20];
s=[0.1,0.3,0.5,0.7,0.9];
T=compare_KKLLL(n,s,5);
n=n';
s=s';
T=T';
%%
%load('data3_2.mat');
semilogy(1-s,T,'LineWidth',3);
legend('n=10','n=15','n=20');
set(gca,'FontSize',18);
xlabel('Sparseness');
ylabel('t/s');
%title('计算方法比较');
set(gcf,'outerposition',get(0,'screensize'));
saveas(gcf,'3_2.png');
close;
save('data3_2.mat');